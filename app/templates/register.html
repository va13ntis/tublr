{% extends "base.html" %}

{% block content %}
<div class="bg-white p-8 rounded-2xl shadow-lg w-full max-w-sm">
    <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">
        Please follow the steps below to register
    </h2>

    <form method="post" autocomplete="off" action="/register" class="space-y-4">
        <ul class="list-decimal list-outside">
            <li>
                Scan the QR Code with Google Authenticator
                <img src="data:image/png;base64,{{ img_str }}" />
                <p>Or manually enter this code: <b>{{ otp_secret }}</b></p>
            </li>
            <li>
                Enter the One-Time Password (OTP) generated by the app to validate registration
                <input id="otp" name="otp" type="number" inputmode="numeric"
                    class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
            </li>
        </ul>

        {% if message %}
        <p style="color:green;">{{ message }}</p>
        {% endif %}

        <div>
            <button type="submit"
                class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition">
                Verify OTP
            </button>
        </div>
    </form>
</div>
{% endblock content %}